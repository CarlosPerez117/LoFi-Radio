<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <LINK REL=StyleSheet HREF="desing.css" TYPE="text/css" MEDIA=screen>
    <title>LO-FI Radio</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/public/multimedia/iconos/LR.png" />
</head>

<body style="background-color: black;">
    <!--<img id="myVideo0" src="multimedia/img8.gif" type="image">-->

    <div id="divVideo">
        <video autoplay muted loop playsinline id="myVideo0">
            <source src="multimedia/video0.mp4" type="video/mp4" />
        </video>
    </div>

    <div class="title">
        <h1>LoFi - Radio</h1>
        <p>Chill Music Stream</p>
        <br>
        <p>Beta 0.5</p>
    </div>

    <div class="contenedor">

        <div class="recuadro">
            <div>
                <h1>Controles</h1>
            </div>

            <div class="outro">
                <div class="inter">
                    <button id="play" class="buttonplay" onclick="Play()">Play</button>
                    <button id="Reset" class="buttonplay" onclick="resetMusic()">Next</button>
                </div>

                <div class="inter">
                    <input id="main" type="range" step="0.05" min="0" max="1" value="1">
                </div>

                <div class="videooo">
                    <div class="inter">
                        <button id="right" onclick="">Anterior</button>
                        <button id="myBtn" onclick="myFunction()">Escuchar Video</button>
                        <button id="right2" onclick="">Siguiente</button>
                    </div>
                    
                    <div class="inter">
                        <input id="effect" type="range" step="0.05" min="0" max="1" value="0.5">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">

    //Generador Playlist Aleatoria

    var randInterval = 0;
    var songList = ["song1", "song2", "song3", "song4", "song5", "song6", "song7", "song8", "song9", "song10", "song11", "song12", "song13", "song14", "song15", "song16", "song17", "song18", "song19", "song20", "song21", "song22", "song23", "song24", "song25", "song26", "song27", "song28", "song29", "song30", "song31", "song32", "song33", "song34", "song35", "song36", "song37", "song38", "song39", "song40", "song41", "song42", "song43", "song44", "song45", "song46", "song47", "song48", "song49", "song50", "song51", "song52", "song53", "song54", "song55", "song56", "song57", "song58", "song59", "song60", "song61", "song62", "song63", "song64", "song65", "song66", "song67", "song68", "song69", "song70", "song71", "song72", "song73", "song74", "song75", "song76", "song77", "song78", "song79", "song80", "song81", "song82", "song83", "song84", "song85", "song86", "song87", "song88", "song89", "song90", "song91", "song92", "song93", "song94", "song95", "song96", "song97", "song98", "song99", "song100", "song101", "song102", "song103", "song104", "song105", "song106", "song107", "song108", "song109", "song110", "song111", "song112", "song113", "song114", "song115", "song116", "song117", "song118", "song119", "song120", "song121", "song122", "song123", "song124", "song125", "song126", "song127", "song128", "song129", "song130", "song131", "song132", "song133", "song134", "song135", "song136", "song137", "song138", "song139", "song140", "song141", "song142", "song143", "song144", "song145", "song146", "song147", "song148", "song149", "song150", "song151", "song152", "song153", "song154", "song155", "song156", "song157", "song158", "song159", "song160", "song161", "song162", "song163", "song164", "song165", "song166", "song167", "song168", "song169", "song170", "song171", "song172", "song173", "song174", "song175", "song176", "song177", "song178", "song179", "song180", "song181", "song182", "song183", "song184", "song185", "song186", "song187", "song188", "song189", "song190", "song191", "song192", "song193", "song194", "song195", "song196", "song197", "song198", "song199", "song200", "song201", "song202", "song203", "song204", "song205", "song206", "song207", "song208", "song209", "song210", "song211", "song212", "song213", "song214", "song215", "song216", "song217", "song218", "song219", "song220", "song221", "song222", "song223", "song224", "song225", "song226", "song227", "song228", "song229", "song230", "song231", "song232", "song233", "song234", "song235", "song236", "song237", "song238", "song239", "song240", "song241", "song242", "song243", "song244", "song245", "song246", "song247", "song248", "song249", "song250", "song251", "song252", "song253", "song254", "song255", "song256", "song257", "song258", "song259", "song260", "song261", "song262", "song263", "song264", "song265", "song266", "song267", "song268", "song269", "song270", "song271", "song272", "song273", "song274", "song275", "song276", "song277", "song278", "song279", "song280", "song281", "song282", "song283", "song284", "song285", "song286", "song287", "song288", "song289", "song290", "song291", "song292", "song293", "song294", "song295", "song296", "song297", "song298", "song299", "song300", "song301", "song302", "song303", "song304", "song305", "song306", "song307", "song308", "song309", "song310", "song311", "song312", "song313", "song314", "song315", "song316", "song317", "song318", "song319", "song320", "song321", "song322", "song323", "song324", "song325", "song326", "song327", "song328", "song329", "song330", "song331", "song332", "song333", "song334", "song335", "song336", "song337", "song338", "song339", "song340", "song341", "song342", "song343", "song344", "song345", "song346", "song347", "song348", "song349", "song350", "song351", "song352", "song353", "song354", "song355", "song356", "song357", "song358", "song359", "song360", "song361", "song362", "song363", "song364", "song365", "song366", "song367", "song368", "song369", "song370", "song371", "song372", "song373", "song374", "song375", "song376", "song377", "song378", "song379", "song380", "song381", "song382", "song383", "song384", "song385", "song386", "song387", "song388", "song389", "song390", "song391", "song392", "song393", "song394", "song395", "song396", "song397", "song398", "song399", "song400", "song401", "song402", "song403", "song404", "song405", "song406", "song407", "song408", "song409", "song410", "song411", "song412", "song413", "song414", "song415", "song416", "song417", "song418", "song419", "song420", "song421", "song422", "song423", "song424", "song425", "song426", "song427", "song428", "song429", "song430", "song431", "song432", "song433", "song434", "song435", "song436", "song437", "song438", "song439", "song440", "song441", "song442", "song443", "song444", "song445", "song446", "song447", "song448", "song449", "song450", "song451", "song452", "song453", "song454", "song455", "song456", "song457", "song458", "song459", "song460", "song461", "song462", "song463", "song464", "song465", "song466", "song467", "song468", "song469", "song470", "song471", "song472", "song473", "song474", "song475", "song476", "song477", "song478", "song479", "song480", "song481", "song482", "song483", "song484", "song485", "song486", "song487", "song488", "song489", "song490", "song491", "song492", "song493", "song494", "song495", "song496", "song497", "song498", "song499", "song500", "song501", "song502", "song503", "song504", "song505", "song506", "song507", "song508", "song509", "song510", "song511", "song512", "song513", "song514", "song515", "song516", "song517", "song518", "song519", "song520", "song521", "song522", "song523", "song524", "song525", "song526", "song527", "song528", "song529", "song530", "song531", "song532", "song533", "song534", "song535", "song536"];
    var myAudio = new Audio("multimedia/music/" + songList[Math.floor(Math.random() * songList.length)] + ".mp3");

    function getRandomSong() {
        var randSong = songList[Math.floor(Math.random() * songList.length)]
        myAudio.src = "multimedia/music/" + randSong + ".mp3";
        myAudio.id = "myAudio";
        myAudio.load();
        myAudio.controls = true;
        myAudio.preload = false;
    }

    function getRandomInterval(variation, range) {
        randInterval = Math.floor((Math.random() * 1000 * variation) + (1000 * range));
        return randInterval;
    }

    //Mutear Video

    var video = document.getElementById("myVideo0");

    var btn = document.getElementById("myBtn");

    function myFunction() {
        if (video.muted == true) {
            video.muted = false;
            video.volume = 0.5
            btn.innerHTML = "Mutear";
        } else {
            video.muted = true;
            btn.innerHTML = "Escuchar";
        }
    }

    //Cambiar Video

    var c = 0;

    $(document).ready(function () {

        $("#right2").click(function () {
            if (c < 2) {
                c++
                var $video = $('#divVideo video'),
                    videoSrc = $('source', $video).attr('src', "multimedia/video" + c.toString() + ".mp4");
                $video[0].load();
                $video[0].play();
            }
        });
        $("#right").click(function () {
            if (c > 0) {
                c--
                var $video = $('#divVideo video'),
                    videoSrc = $('source', $video).attr('src', "multimedia/video" + c.toString() + ".mp4");
                $video[0].load();
                $video[0].play();
            }
        });
    });

    //Play y Reset Audio

    var btnPlay = document.getElementById("play");

    var play1 = false

    function Play() {
        if (play1 == false) {
            play1 = true
            myAudio.play()
            btnPlay.innerHTML = "Pause"
            myAudio.addEventListener('ended', function () { setTimeout(function () { playMusic(); }, getRandomInterval(2, 2)); }, false);
        } else {
            play1 = false
            pauseMusic();
            btnPlay.innerHTML = "Play"
        }
    }

    function playMusic() {
        getRandomSong();
        myAudio.play();
        play1 = true;
    }

    function replayMusic() {
        myAudio.play();
        play1 = true;
    }

    function pauseMusic() {
        myAudio.pause();
        play1 = false;
    }

    function resetMusic() {
        getRandomSong();
        myAudio.pause();
        myAudio.play();
        btnPlay.innerHTML = "Pause"
        play1 = true;
    }

    //Volumenes

    var barraAudio = document.getElementById("main");
    var barraVideo = document.getElementById("effect");

    var oldvolumeA = 1;
    var oldvolumeV = 0.5;

    barraAudio.addEventListener("change", function (ev) {
        myAudio.volume = ev.target.value;
    }, true);

    barraVideo.addEventListener("change", function (ev) {
        video.volume = ev.target.value;
    }, true);

</script>

</html>